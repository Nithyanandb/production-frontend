{"version":3,"file":"StockMarket-IGayt0ZC.js","sources":["../../../src/components/pages/AllStocks/SegmentSelector.tsx","../../../src/components/pages/AllStocks/HoldingsTable.tsx","../../../src/components/pages/AllStocks/StockMarket.tsx"],"sourcesContent":["import React from 'react';\r\nimport { motion } from 'framer-motion';\r\n\r\ninterface SegmentSelectorProps {\r\n  segments: string[];\r\n  selectedSegment: string;\r\n  onSegmentChange: (segment: string) => void;\r\n}\r\n\r\nexport const SegmentSelector: React.FC<SegmentSelectorProps> = ({\r\n  segments,\r\n  selectedSegment,\r\n  onSegmentChange,\r\n}) => {\r\n  return (\r\n    <div className=\"flex items-center gap-2 mb-8 overflow-x-auto scrollbar-hide\">\r\n      {segments.map((segment) => (\r\n        <motion.button\r\n          key={segment}\r\n          onClick={() => onSegmentChange(segment)}\r\n          whileHover={{ scale: 1.05 }}\r\n          whileTap={{ scale: 0.95 }}\r\n          className={`px-4 py-2 rounded-lg text-sm font-medium transition-all \r\n            ${selectedSegment === segment \r\n              ? 'bg-white text-black' \r\n              : 'text-gray-400 hover:text-white'}`}\r\n        >\r\n          {segment}\r\n        </motion.button>\r\n      ))}\r\n    </div>\r\n  );\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { Loader2, Search } from 'lucide-react';\r\nimport LoadingSpinner from '@/components/ui/LoadingSpinner';\r\nimport { useNavigate } from 'react-router-dom'; // Import useNavigate\r\nimport { motion, AnimatePresence } from 'framer-motion'; // For smooth animations\r\n\r\ninterface StockHolding {\r\n  symbol: string;\r\n  quantity: number;\r\n  currentPrice?: number;\r\n  change?: number;\r\n  changePercent?: number;\r\n  highPrice?: number;\r\n  lowPrice?: number;\r\n  openPrice?: number;\r\n  previousClose?: number;\r\n  name?: string;\r\n}\r\n\r\ninterface HoldingsTableProps {\r\n  holdings: StockHolding[];\r\n  onStockSelect: (stock: StockHolding) => void; // Callback for stock selection\r\n}\r\n\r\nexport const HoldingsTable: React.FC<HoldingsTableProps> = ({ holdings, onStockSelect }) => {\r\n  const [updatedHoldings, setUpdatedHoldings] = useState<StockHolding[]>(holdings);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState<string>('');\r\n  const API_KEY = 'ctre6q9r01qhb16mmh70ctre6q9r01qhb16mmh7g'; // Replace with your Finnhub API key\r\n  const navigate = useNavigate(); // Initialize useNavigate\r\n\r\n  useEffect(() => {\r\n    const fetchStockData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        // Only fetch data for the first 15 holdings\r\n        const holdingsToFetch = holdings.slice(0, 15);\r\n\r\n        const updated = await Promise.all(\r\n          holdingsToFetch.map(async (holding) => {\r\n            try {\r\n              const quoteResponse = await fetch(\r\n                `https://finnhub.io/api/v1/quote?symbol=${holding.symbol}&token=${API_KEY}`\r\n              );\r\n              const quoteData = await quoteResponse.json();\r\n\r\n              // If the API returns no data, generate fallback values\r\n              if (!quoteData || !quoteData.c) {\r\n                return {\r\n                  ...holding,\r\n                  currentPrice: 0, // Fallback value\r\n                  change: 0,\r\n                  changePercent: 0,\r\n                  highPrice: 0,\r\n                  lowPrice: 0,\r\n                  openPrice: 0,\r\n                  previousClose: 0,\r\n                };\r\n              }\r\n\r\n              return {\r\n                ...holding,\r\n                currentPrice: quoteData.c,\r\n                change: quoteData.d,\r\n                changePercent: quoteData.dp,\r\n                highPrice: quoteData.h,\r\n                lowPrice: quoteData.l,\r\n                openPrice: quoteData.o,\r\n                previousClose: quoteData.pc,\r\n              };\r\n            } catch (err) {\r\n              // If the API call fails, return fallback values for this holding\r\n              console.error(`Failed to fetch data for ${holding.symbol}:`, err);\r\n              return {\r\n                ...holding,\r\n                currentPrice: 0, // Fallback value\r\n                change: 0,\r\n                changePercent: 0,\r\n                highPrice: 0,\r\n                lowPrice: 0,\r\n                openPrice: 0,\r\n                previousClose: 0,\r\n              };\r\n            }\r\n          })\r\n        );\r\n\r\n        // Combine the updated holdings with the remaining holdings (without API data)\r\n        const remainingHoldings = holdings.slice(15).map((holding) => ({\r\n          ...holding,\r\n          currentPrice: 0, // Fallback value\r\n          change: 0,\r\n          changePercent: 0,\r\n          highPrice: 0,\r\n          lowPrice: 0,\r\n          openPrice: 0,\r\n          previousClose: 0,\r\n        }));\r\n\r\n        setUpdatedHoldings([...updated, ...remainingHoldings]);\r\n      } catch (err) {\r\n        setError('Failed to fetch stock data. Please try again later.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (holdings.length > 0) {\r\n      fetchStockData();\r\n    }\r\n  }, [holdings]);\r\n\r\n  const filteredHoldings = updatedHoldings.filter(\r\n    (holding) =>\r\n      holding.symbol.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      (holding.name && holding.name.toLowerCase().includes(searchTerm.toLowerCase()))\r\n  );\r\n\r\n  const handleStockSelect = (stock: StockHolding) => {\r\n    onStockSelect(stock); // Call the parent callback if needed\r\n    navigate('/stock/buy', { state: { selectedStock: stock } }); // Navigate to /stock/buy with the selected stock\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"text-center py-4 text-red-600\">{error}</div>;\r\n  }\r\n\r\n  if (!updatedHoldings || updatedHoldings.length === 0) {\r\n    return <div className=\"text-center py-4 text-gray-600\">No holdings available.</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto custom-scrollbar\">\r\n      {/* Search Bar */}\r\n      <div className=\"relative mb-6\">\r\n        <Search className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search holdings...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className=\"w-full bg-gray-100 border border-gray-300 rounded-2xl pl-12 pr-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 text-black\"\r\n        />\r\n      </div>\r\n\r\n      {/* Holdings Table */}\r\n      <table className=\"min-w-full bg-white text-black\">\r\n        <thead>\r\n          <tr className=\"border-b border-gray-200\">\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Symbol</th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Name</th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Quantity</th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Current Price</th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Change</th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Change %</th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">High Price</th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Low Price</th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Open Price</th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Previous Close</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredHoldings.map((holding) => (\r\n            <motion.tr\r\n              key={holding.symbol}\r\n              className=\"border-b border-gray-200 hover:bg-gray-50 cursor-pointer\"\r\n              onClick={() => handleStockSelect(holding)} // Trigger the callback with the selected stock\r\n              transition={{ type: 'spring', stiffness: 300 }}\r\n            >\r\n              <td className=\"px-6 py-4 font-medium\">{holding.symbol}</td>\r\n              <td className=\"px-6 py-4 text-gray-700\">{holding.name ?? 'N/A'}</td>\r\n              <td className=\"px-6 py-4\">{holding.quantity}</td>\r\n              <td className=\"px-6 py-4\">₹{holding.currentPrice?.toFixed(2) ?? '0.00'}</td>\r\n              <td className={`px-6 py-4 ${(holding.change ?? 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                ${holding.change?.toFixed(2) ?? '0.00'}\r\n              </td>\r\n              <td className={`px-6 py-4 ${(holding.changePercent ?? 0) >= 0 ? 'text-green-600' : 'text-red-600'}`}>\r\n                {holding.changePercent?.toFixed(2) ?? '0.00'}%\r\n              </td>\r\n              <td className=\"px-6 py-4\">₹{holding.highPrice?.toFixed(2) ?? '0.00'}</td>\r\n              <td className=\"px-6 py-4\">₹{holding.lowPrice?.toFixed(2) ?? '0.00'}</td>\r\n              <td className=\"px-6 py-4\">₹{holding.openPrice?.toFixed(2) ?? '0.00'}</td>\r\n              <td className=\"px-6 py-4\">₹{holding.previousClose?.toFixed(2) ?? '0.00'}</td>\r\n            </motion.tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Clock } from 'lucide-react';\r\nimport { SegmentSelector } from './SegmentSelector';\r\nimport { HoldingsTable } from './HoldingsTable';\r\nimport Header from '@/components/Header/Header';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { symbols } from './symbols';\r\n\r\nconst segments = ['ALL', 'TECHNOLOGY', 'FINANCE', 'HEALTHCARE', 'ENERGY', 'CONSUMER'];\r\nconst API_KEY = \"ctre6q9r01qhb16mmh70ctre6q9r01qhb16mmh7g\"; // Replace with your API key\r\n\r\nconst StockMarket: React.FC = () => {\r\n  const [selectedSegment, setSelectedSegment] = useState('ALL');\r\n  const [trades, setTrades] = useState<Array<{ symbol: string; price: number; timestamp: number; volume: number }>>([]);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const socketRef = useRef<WebSocket | null>(null);\r\n\r\n  // Function to establish WebSocket connection\r\n  const connectWebSocket = () => {\r\n    const socket = new WebSocket(`wss://ws.finnhub.io?token=${API_KEY}`);\r\n\r\n    socket.addEventListener('open', () => {\r\n      console.log('WebSocket connection opened');\r\n      setError(null);\r\n\r\n      // Subscribe to predefined symbols\r\n      const symbolsToSubscribe = ['AAPL', 'BINANCE:BTCUSDT', 'IC MARKETS:1'];\r\n      symbolsToSubscribe.forEach((symbol) => {\r\n        socket.send(JSON.stringify({ type: 'subscribe', symbol }));\r\n      });\r\n    });\r\n\r\n    socket.addEventListener('message', (event) => {\r\n      const message = JSON.parse(event.data);\r\n\r\n      // Handle trade messages\r\n      if (message.type === 'trade') {\r\n        const newTrades = message.data.map((trade: any) => ({\r\n          symbol: trade.s,\r\n          price: trade.p,\r\n          timestamp: trade.t,\r\n          volume: trade.v,\r\n        }));\r\n\r\n        // Filter out duplicate trades based on timestamp and symbol\r\n        setTrades((prevTrades) => {\r\n          const uniqueTrades = newTrades.filter(\r\n            (newTrade: any) =>\r\n              !prevTrades.some(\r\n                (prevTrade) =>\r\n                  prevTrade.symbol === newTrade.symbol && prevTrade.timestamp === newTrade.timestamp\r\n              )\r\n          );\r\n\r\n          // Combine new unique trades with previous trades and limit to 5\r\n          const updatedTrades = [...prevTrades, ...uniqueTrades].slice(-4);\r\n          return updatedTrades;\r\n        });\r\n      }\r\n    });\r\n\r\n    socket.addEventListener('error', (event) => {\r\n      console.error('WebSocket error:', event);\r\n      setError('WebSocket error. Please refresh the page.');\r\n    });\r\n\r\n    socket.addEventListener('close', () => {\r\n      console.log('WebSocket connection closed');\r\n      setError('WebSocket connection closed. Please refresh the page.');\r\n    });\r\n\r\n    socketRef.current = socket;\r\n  };\r\n\r\n  // Initialize WebSocket connection on component mount\r\n  useEffect(() => {\r\n    connectWebSocket();\r\n\r\n    // Cleanup on component unmount\r\n    return () => {\r\n      if (socketRef.current) {\r\n        socketRef.current.close();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white text-black font-sans\">\r\n      <Header />\r\n\r\n      <div className=\"flex h-screen pt-20\">\r\n        {/* Sidebar for Trades */}\r\n        <div className=\"p-8 space-y-4 overflow-y-auto w-[400px] h-full border-r border-gray-200\">\r\n          <h2 className=\"text-2xl font-semibold text-black mb-6\">Trades - Last Price Updates</h2>\r\n          {error ? (\r\n            <div className=\"flex justify-center items-center py-4\">\r\n              <span className=\"text-red-500\">{error}</span>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"rounded-xl p-0\">\r\n                <h3 className=\"text-lg font-semibold text-black mb-4\">Recent Trades</h3>\r\n                <div className=\"space-y-4\">\r\n                  {trades.length > 0 ? (\r\n                    trades.map((trade, index) => (\r\n                      <div key={index} className=\"text-sm text-gray-600 bg-white p-2 rounded-lg\">\r\n                        <p>Symbol: <span className=\"p-2 text-black font-medium\">{trade.symbol}</span></p>\r\n                        <p>Price: <span className=\"p-2 text-black font-medium\">{trade.price}</span></p>\r\n                        <p>Volume: <span className=\"p-2 text-black font-medium\">{trade.volume}</span></p>\r\n                        <p>Time: <span className=\"p-2 text-black font-medium\">{new Date(trade.timestamp).toLocaleTimeString()}</span></p>\r\n                      </div>\r\n                    ))\r\n                  ) : (\r\n                    <p className=\"text-sm text-gray-600\">No trades available yet.</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          <div className=\"container mx-auto px-8 py-12\">\r\n            {/* Header */}\r\n            <div className=\"flex flex-col gap-6 mb-12\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h1 className=\"text-4xl font-bold text-black\">Market Holdings</h1>\r\n                <div className=\"flex items-center gap-4\">\r\n                  <Clock size={20} className=\"text-gray-400\" />\r\n                  <span className=\"text-sm text-gray-600\">\r\n                    Market {new Date().toLocaleTimeString()}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Segment Selector */}\r\n            <SegmentSelector\r\n              segments={segments}\r\n              selectedSegment={selectedSegment}\r\n              onSegmentChange={setSelectedSegment}\r\n            />\r\n\r\n            {/* Holdings Table */}\r\n            <AnimatePresence mode=\"wait\">\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                exit={{ opacity: 0, y: -20 }}\r\n                transition={{ duration: 0.3 }}\r\n              >\r\n                {symbols && (\r\n                  <HoldingsTable\r\n                    holdings={symbols}\r\n                    onStockSelect={() => {}}\r\n                  />\r\n                )}\r\n              </motion.div>\r\n            </AnimatePresence>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StockMarket;"],"names":["SegmentSelector","segments","selectedSegment","onSegmentChange","className","children","map","segment","jsxRuntimeExports","jsx","motion","button","onClick","whileHover","scale","whileTap","HoldingsTable","holdings","onStockSelect","updatedHoldings","setUpdatedHoldings","useState","loading","setLoading","error","setError","searchTerm","setSearchTerm","navigate","useNavigate","useEffect","length","async","holdingsToFetch","slice","updated","Promise","all","holding","quoteResponse","fetch","symbol","quoteData","json","c","currentPrice","change","d","changePercent","dp","highPrice","h","lowPrice","l","openPrice","o","previousClose","pc","err","console","remainingHoldings","fetchStockData","filteredHoldings","filter","toLowerCase","includes","name","LoadingSpinner","jsxs","Search","size","type","placeholder","value","onChange","e","target","tr","handleStockSelect","stock","state","selectedStock","transition","stiffness","quantity","_a","toFixed","_b","_c","_d","_e","_f","_g","StockMarket","setSelectedSegment","trades","setTrades","socketRef","useRef","socket","WebSocket","addEventListener","log","forEach","send","JSON","stringify","event","message","parse","data","newTrades","trade","s","price","p","timestamp","t","volume","v","prevTrades","uniqueTrades","newTrade","some","prevTrade","current","connectWebSocket","close","Header","index","Date","toLocaleTimeString","Clock","AnimatePresence","mode","div","initial","opacity","y","animate","exit","duration","symbols"],"mappings":"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"}